---
import { getCollection } from 'astro:content';
import PageLayout from '../../layouts/PageLayout.astro';
import BlogCard from '../../components/BlogCard.astro';

const allPosts = await getCollection('blog');
const sortedPosts = allPosts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<PageLayout
  title="Blog de Nutrici贸n | A10 Nutrici贸n"
  description="Art铆culos, consejos y gu铆as sobre nutrici贸n, salud y fitness escritos por profesionales certificados."
>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-primary-600 to-primary-800 text-white py-16 md:py-24">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="font-heading font-bold text-4xl md:text-5xl mb-6">
          Blog de Nutrici贸n
        </h1>
        <p class="text-xl text-primary-100">
          Descubre consejos, gu铆as y las 煤ltimas tendencias en nutrici贸n y salud
        </p>
      </div>
    </div>
  </section>

  <!-- Blog Posts -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      {sortedPosts.length > 0 ? (
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
          {sortedPosts.map((post) => (
            <BlogCard
              title={post.data.title}
              description={post.data.description}
              pubDate={post.data.pubDate}
              author={post.data.author}
              image={post.data.image}
              slug={post.slug}
            />
          ))}
        </div>
      ) : (
        <div class="text-center py-12">
          <div class="text-6xl mb-4"></div>
          <h2 class="font-heading font-bold text-2xl text-neutral-900 mb-2">
            Pr贸ximamente
          </h2>
          <p class="text-neutral-600">
            Estamos preparando contenido de calidad para ti
          </p>
        </div>
      )}
    </div>
  </section>
</PageLayout>
